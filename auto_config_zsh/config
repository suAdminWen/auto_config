#!/bin/bash

function zshInstall() {
    zshloc=$(which zsh)
    if [ $zshloc = /usr/bin/zsh ]; then
        echo -e "系统监测已经安装zsh"
    else
        sudo apt install -y libncurses5-dev
		if [ ! -f "zsh-5.6.2.tar.xz" ]; then
			wget https://sourceforge.net/projects/zsh/files/zsh/5.6.2/zsh-5.6.2.tar.xz
		fi
        xz -d zsh-5.6.2.tar.xz
        tar -xvf zsh-5.6.2.tar
        cd zsh-5.6.2
        ./configure
        make install
        cd ..
        #rm -r zsh-5.6.2*
    fi
}

function zimInstall() {
    git clone --recursive https://github.com/Eriner/zim.git ${ZDOTDIR:-${HOME}}/.zim
    for f in ${HOME}/.zim/templates/*; do cp $f ${HOME}/.$(basename $f); done
}

function config() {
    cp zshrc ~/.zshrc

    git clone https://github.com/clvv/fasd.git
    cd fasd
    make install

    cd ~
    touch $USER ~/.zhistory
    chown $USER ~/.zhistory
    command -v zsh | sudo tee -a /etc/shells
    chsh -s "$(command -v zsh)" "${USER}"
	su $USER
}


zshInstall
# zimInstall
# config
